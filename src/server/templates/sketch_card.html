<!-- Sketch Card Component -->
<div class="preview-card bg-gradient-to-br {{ 'from-green-50 to-emerald-50' if sketch.has_preview else 'from-blue-50 to-indigo-50' }}">
    <!-- Thumbnail Section -->
    {% if sketch.has_thumbnail %}
    <a href="/sketch/{{ sketch.name }}" class="block relative overflow-hidden group">
        <img src="{{ sketch.thumbnail_url }}" 
             alt="{{ sketch.display_name or sketch.name }} preview"
             class="preview-card-image object-cover transition-transform duration-300 group-hover:scale-105 cursor-pointer"
             onerror="this.parentElement.innerHTML='<div class=\'thumbnail-placeholder thumbnail-error\'><div class=\'text-4xl mb-2\'>⚠</div><div class=\'text-sm text-gray-600\'>Preview Error</div></div>'">
        <!-- Hover overlay for better UX -->
        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
            <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 px-3 py-2 rounded-lg text-sm font-medium text-gray-800">
                Open Live Preview
            </div>
        </div>
    </a>
    {% elif sketch.has_preview %}
    <a href="/sketch/{{ sketch.name }}" class="block thumbnail-placeholder thumbnail-generating cursor-pointer hover:bg-opacity-80 transition-all duration-300">
        <div class="text-4xl mb-2 animate-pulse">●</div>
        <div class="text-sm text-gray-600">Generating thumbnail...</div>
        <div class="loading-spinner mt-2"></div>
        <div class="text-xs text-gray-500 mt-2">Click to open live preview</div>
    </a>
    {% else %}
    <a href="/sketch/{{ sketch.name }}" class="block thumbnail-placeholder thumbnail-no-preview cursor-pointer hover:bg-opacity-80 transition-all duration-300">
        <div class="text-4xl mb-2">○</div>
        <div class="text-sm text-gray-600">No preview yet</div>
        <div class="text-xs text-gray-500 mt-1">Click to execute and generate</div>
    </a>
    {% endif %}
    
    <div class="preview-card-content">
        <!-- Header with badges -->
        <div class="flex justify-between items-start mb-4">
            <div class="flex items-center">
                {% if sketch.has_preview %}
                <div class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    <span class="w-2 h-2 bg-green-500 rounded-full mr-1"></span>
                    Preview Ready
                </div>
                {% else %}
                <div class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                    <span class="w-2 h-2 bg-gray-400 rounded-full mr-1"></span>
                    No Preview
                </div>
                {% endif %}

                {% if sketch.source_type == 'example' %}
                <div class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 ml-2">
                    Example
                </div>
                {% else %}
                <div class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 ml-2">
                    Sketch
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Title -->
        <h3 class="preview-card-title">{{ sketch.display_name or sketch.name }}</h3>

        <!-- Meta information -->
        <div class="preview-card-meta">
            <div class="flex items-center text-xs text-gray-500 mb-2">
                <span>{{ sketch.relative_path }}</span>
            </div>
            <div class="flex items-center justify-between text-xs text-gray-500">
                <span>{{ sketch.size_display }}</span>
                <span>{{ sketch.date_display }}</span>
            </div>
        </div>

    </div>
</div>
